<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Buchfinder ‚Äì Dein pers√∂nlicher Literatur-Guide</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      color-scheme: light;
      --bg: #f7f8ff;
      --card: rgba(255, 255, 255, 0.88);
      --accent: #5e4af1;
      --accent-strong: #4c39d0;
      --text: #13131f;
      --muted: #6a6b7c;
      --border: rgba(94, 74, 241, 0.16);
      --shadow: 0 40px 70px -40px rgba(25, 30, 90, 0.45);
      --radius-xl: 32px;
      --radius-lg: 24px;
    }

    *, *::before, *::after {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: radial-gradient(circle at top left, rgba(94, 74, 241, 0.15) 0%, transparent 42%),
        radial-gradient(circle at 90% 10%, rgba(250, 167, 93, 0.18) 0%, transparent 55%),
        var(--bg);
      color: var(--text);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: clamp(2.5rem, 6vw, 4rem) clamp(1.2rem, 4vw, 2.5rem);
      position: relative;
      overflow-x: hidden;
    }

    body::before {
      content: '';
      position: fixed;
      inset: auto auto 10% 65%;
      width: min(520px, 38vw);
      aspect-ratio: 1 / 1;
      background: radial-gradient(circle at 60% 40%, rgba(94, 74, 241, 0.25), transparent 68%);
      filter: blur(0px);
      opacity: 0.9;
      pointer-events: none;
      animation: float 18s ease-in-out infinite alternate;
      z-index: -1;
    }

    @keyframes float {
      from { transform: translate3d(-12px, -14px, 0) scale(1.04); }
      to { transform: translate3d(14px, 16px, 0) scale(0.98); }
    }

    .app {
      width: min(1100px, 100%);
      background: linear-gradient(145deg, rgba(255, 255, 255, 0.96), rgba(244, 245, 255, 0.92));
      backdrop-filter: blur(20px);
      border-radius: var(--radius-xl);
      box-shadow: var(--shadow);
      border: 1px solid var(--border);
      overflow: hidden;
    }

    header.hero {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: clamp(2rem, 5vw, 3.5rem);
      padding: clamp(3rem, 6vw, 4.5rem) clamp(2.8rem, 6vw, 4.5rem);
      background: radial-gradient(circle at 15% 30%, rgba(255, 255, 255, 0.24), transparent 68%),
        linear-gradient(135deg, #6350ff 0%, #8b5cff 55%, #b873ff 100%);
      color: #fff;
      position: relative;
    }

    .hero::after {
      content: '';
      position: absolute;
      inset: auto -12% -30% auto;
      width: clamp(220px, 28vw, 360px);
      aspect-ratio: 1;
      background: radial-gradient(circle, rgba(255, 255, 255, 0.3) 0%, transparent 70%);
      opacity: 0.7;
      filter: blur(0px);
      pointer-events: none;
    }

    .hero-content h1 {
      font-family: 'Playfair Display', 'Times New Roman', serif;
      font-size: clamp(2.6rem, 5vw, 3.6rem);
      margin: 0 0 1rem;
      line-height: 1.1;
    }

    .hero-content p {
      margin: 0 0 2.2rem;
      max-width: 480px;
      font-size: clamp(1rem, 2vw, 1.1rem);
      color: rgba(255, 255, 255, 0.85);
    }

    .eyebrow {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      font-size: 0.85rem;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      font-weight: 600;
      color: rgba(255, 255, 255, 0.75);
      margin-bottom: 1.2rem;
    }

    .hero-visual {
      background: rgba(22, 21, 61, 0.3);
      border-radius: var(--radius-lg);
      padding: clamp(1.6rem, 3vw, 2.4rem);
      display: grid;
      gap: 1.2rem;
      align-content: start;
      box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.25);
    }

    .hero-badge {
      display: inline-flex;
      align-items: center;
      gap: 0.75rem;
      padding: 0.75rem 1rem;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.08);
      font-size: 0.95rem;
      font-weight: 500;
    }

    .hero-list {
      display: grid;
      gap: 0.8rem;
      padding: 0;
      margin: 0;
      list-style: none;
      font-size: 0.95rem;
      color: rgba(255, 255, 255, 0.85);
    }

    .hero-list li {
      display: grid;
      grid-template-columns: auto 1fr;
      gap: 0.75rem;
      align-items: center;
    }

    .hero-list span.icon {
      font-size: 1.1rem;
    }

    .btn-primary {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.75rem;
      padding: 0.95rem 1.6rem;
      border-radius: 999px;
      background: #fff;
      color: #3325ae;
      font-weight: 600;
      font-size: 1rem;
      letter-spacing: 0.01em;
      border: none;
      cursor: pointer;
      transition: transform 0.25s ease, box-shadow 0.25s ease;
      box-shadow: 0 18px 36px -22px rgba(12, 8, 55, 0.7);
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 18px 40px -18px rgba(12, 8, 55, 0.65);
    }

    main {
      padding: clamp(2.8rem, 6vw, 4.5rem);
      background: transparent;
      display: grid;
      gap: clamp(2.5rem, 5vw, 3.5rem);
    }

    .quiz-wrapper {
      display: grid;
      gap: clamp(1.8rem, 3vw, 2.4rem);
    }

    .quiz-card {
      background: var(--card);
      border-radius: var(--radius-lg);
      border: 1px solid rgba(103, 90, 241, 0.14);
      padding: clamp(2rem, 4vw, 2.75rem);
      box-shadow: 0 24px 50px -32px rgba(26, 24, 70, 0.28);
      display: grid;
      gap: 1.6rem;
      position: relative;
      overflow: hidden;
    }

    .quiz-card::after {
      content: '';
      position: absolute;
      inset: -40% auto auto -35%;
      width: clamp(240px, 40vw, 420px);
      aspect-ratio: 1;
      background: radial-gradient(circle at center, rgba(94, 74, 241, 0.12), transparent 65%);
      pointer-events: none;
    }

    .quiz-progress {
      display: flex;
      align-items: center;
      gap: 0.85rem;
      font-size: 0.9rem;
      color: var(--muted);
    }

    .progress-bar {
      flex: 1;
      height: 6px;
      border-radius: 999px;
      background: rgba(94, 74, 241, 0.12);
      overflow: hidden;
    }

    .progress-bar span {
      display: block;
      height: 100%;
      width: 0;
      border-radius: inherit;
      background: linear-gradient(90deg, #5e4af1, #8b5cff);
      transition: width 0.35s ease;
    }

    h2.question-title {
      margin: 0;
      font-size: clamp(1.6rem, 3vw, 2rem);
      letter-spacing: -0.01em;
    }

    p.question-desc {
      margin: 0;
      color: var(--muted);
      font-size: 1rem;
      max-width: 540px;
    }

    .option-grid {
      display: grid;
      gap: 1rem;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    }

    .option {
      position: relative;
      border-radius: 20px;
      padding: 1.2rem 1.25rem;
      background: rgba(255, 255, 255, 0.82);
      border: 1px solid rgba(94, 74, 241, 0.1);
      box-shadow: 0 12px 30px -20px rgba(27, 25, 68, 0.35);
      text-align: left;
      transition: border-color 0.3s ease, transform 0.3s ease;
      cursor: pointer;
      display: grid;
      gap: 0.55rem;
    }

    .option:hover,
    .option:focus-visible {
      transform: translateY(-3px);
      border-color: rgba(94, 74, 241, 0.4);
      outline: none;
    }

    .option.selected {
      border-color: rgba(94, 74, 241, 0.8);
      background: linear-gradient(135deg, rgba(94, 74, 241, 0.18), rgba(139, 92, 255, 0.12));
    }

    .option-title {
      font-weight: 600;
      font-size: 1.05rem;
    }

    .option-desc {
      color: var(--muted);
      font-size: 0.95rem;
      line-height: 1.45;
    }

    .actions {
      display: flex;
      gap: 1rem;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
    }

    .ghost-btn {
      background: transparent;
      color: var(--muted);
      border: none;
      font-size: 0.95rem;
      font-weight: 500;
      cursor: pointer;
      padding: 0.75rem 0.5rem;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
    }

    .ghost-btn:hover {
      color: var(--accent);
    }

    .result-card {
      display: none;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 2.4rem;
      align-items: start;
    }

    .result-card.active {
      display: grid;
    }

    .result-media {
      position: relative;
      border-radius: 24px;
      overflow: hidden;
      box-shadow: 0 28px 60px -35px rgba(27, 26, 80, 0.55);
    }

    .result-media img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    .result-media::after {
      content: '';
      position: absolute;
      inset: auto 12% -18% 12%;
      height: 65px;
      background: rgba(255, 255, 255, 0.46);
      filter: blur(28px);
      z-index: -1;
    }

    .result-content {
      display: grid;
      gap: 1.4rem;
    }

    .result-content h3 {
      margin: 0;
      font-size: clamp(1.8rem, 3vw, 2.2rem);
    }

    .result-meta {
      display: inline-flex;
      gap: 0.75rem;
      flex-wrap: wrap;
      font-size: 0.9rem;
      color: var(--muted);
    }

    .result-description {
      margin: 0;
      font-size: 1rem;
      line-height: 1.6;
      color: #3d3d4f;
    }

    .highlights {
      padding: 1.2rem 1.4rem;
      border-radius: 20px;
      background: rgba(94, 74, 241, 0.08);
      border: 1px solid rgba(94, 74, 241, 0.14);
      display: grid;
      gap: 0.75rem;
      font-size: 0.95rem;
    }

    .restart {
      justify-self: start;
    }

    @media (max-width: 720px) {
      header.hero {
        border-radius: 0 0 var(--radius-xl) var(--radius-xl);
      }

      .hero-visual {
        order: -1;
      }

      .option-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <div class="app">
    <header class="hero">
      <div class="hero-content">
        <div class="eyebrow">Kuratiert f√ºr Expert:innen</div>
        <h1>Finde die Fachliteratur, die deinen n√§chsten Durchbruch erm√∂glicht.</h1>
        <p>Unser intelligenter Literatur-Guide analysiert deine strategischen Ziele, deinen Kontext und deine bevorzugte
          Arbeitstiefe. Nach nur wenigen Antworten erh√§ltst du eine Empfehlung, die zu deinem Fachgebiet und deinem Anspruch
          passt.</p>
        <button class="btn-primary" id="startQuiz">
          Jetzt Analyse starten
          <span aria-hidden="true">‚Üí</span>
        </button>
      </div>
      <aside class="hero-visual" aria-label="Highlights der Buchsuche">
        <div class="hero-badge">üìö Evidenzbasierte Datenbank</div>
        <ul class="hero-list">
          <li><span class="icon">üéØ</span> <span>Fokus auf berufliche & wissenschaftliche Ziele</span></li>
          <li><span class="icon">üß≠</span> <span>Mehrstufige Analyse von Methodik & Praxisn√§he</span></li>
          <li><span class="icon">üß†</span> <span>Empfehlungen aus f√ºhrender Fachliteratur</span></li>
        </ul>
      </aside>
    </header>

    <main>
      <section class="quiz-wrapper">
        <article class="quiz-card" id="questionCard" aria-live="polite" aria-atomic="true" hidden>
          <div class="quiz-progress">
            <span id="stepLabel">Frage 1 von 8</span>
            <div class="progress-bar"><span id="progressBar"></span></div>
          </div>
          <div>
            <h2 class="question-title" id="questionTitle">In welchem Fachbereich brauchst du neue Impulse?</h2>
            <p class="question-desc" id="questionDesc">Wir starten mit der inhaltlichen Einordnung deiner Recherche.</p>
          </div>
          <div class="option-grid" id="optionGrid"></div>
          <div class="actions">
            <button class="ghost-btn" id="backBtn" type="button" hidden>
              ‚Üê Zur√ºck
            </button>
            <button class="btn-primary" id="nextBtn" type="button">
              Weiter
              <span aria-hidden="true">‚Üí</span>
            </button>
          </div>
        </article>

        <article class="quiz-card result-card" id="resultCard" hidden>
          <div class="result-media">
            <img id="resultImage" src="" alt="Cover des empfohlenen Buchs">
          </div>
          <div class="result-content">
            <div>
              <div class="eyebrow" style="color: var(--accent-strong);">Dein Match</div>
              <h3 id="resultTitle">Titel</h3>
              <div class="result-meta" id="resultMeta"></div>
            </div>
            <p class="result-description" id="resultDescription"></p>
            <div class="highlights" id="resultHighlights"></div>
            <button class="btn-primary restart" id="restartBtn" type="button">Noch einmal starten</button>
          </div>
        </article>
      </section>
    </main>
  </div>

  <script>
    const questions = [
      {
        id: 'domain',
        title: 'In welchem Fachbereich brauchst du neue Impulse?',
        description: 'Wir ordnen deine Anfrage einem thematischen Cluster zu, um wirklich relevante Quellen zu finden.',
        options: [
          { value: 'management', title: 'Strategie & Leadership', description: 'Organisationen f√ºhren, Transformation gestalten, Verantwortung tragen.' },
          { value: 'technology', title: 'Technologie & IT-Architektur', description: 'Systemdesign, Digitalisierung, Software- und Datenkompetenz.' },
          { value: 'people', title: 'People & Organisation', description: 'Talententwicklung, New Work, Change-Kommunikation und Kultur.' },
          { value: 'research', title: 'Wissenschaft & Analyse', description: 'Empirische Studien, Methodenkompetenz und analytische Tiefe.' },
          { value: 'health', title: 'Gesundheit & Pflegeinnovation', description: 'Versorgungsmodelle, evidenzbasierte Praxis und Public Health.' }
        ]
      },
      {
        id: 'goal',
        title: 'Welches Ziel verfolgst du mit der Lekt√ºre?',
        description: 'Dein Ziel entscheidet, ob wir eher Grundlagen, Best Practices oder Zukunftsmodelle priorisieren.',
        options: [
          { value: 'transform', title: 'Transformation vorantreiben', description: 'Strategische Weichen stellen, komplexe Ver√§nderung steuern.' },
          { value: 'optimize', title: 'Prozesse verbessern', description: 'Operational Excellence, Skalierung und messbare Effizienz.' },
          { value: 'upskill', title: 'Fachwissen vertiefen', description: 'Theorien verdichten, Modelle verstehen, Expertise erweitern.' },
          { value: 'teach', title: 'Wissen weitergeben', description: 'Didaktik, Frameworks und Beispiele f√ºr Teams & Lehre.' }
        ]
      },
      {
        id: 'experience',
        title: 'Auf welchem Erfahrungsniveau bewegst du dich?',
        description: 'So stellen wir sicher, dass das Buch sprachlich und methodisch zu dir passt.',
        options: [
          { value: 'entry', title: 'Professioneller Einstieg', description: 'Fundierte Grundlagen, klare Strukturen, gut nachvollziehbar.' },
          { value: 'advanced', title: 'Fortgeschritten', description: 'Vertiefung mit anspruchsvollen Konzepten und Fallbeispielen.' },
          { value: 'expert', title: 'Executive / Expert Level', description: 'State-of-the-Art, Meta-Analysen und High-Level-Diskurs.' }
        ]
      },
      {
        id: 'approach',
        title: 'Welche Art von Erkenntnissen suchst du?',
        description: 'Wir unterscheiden zwischen Strategie, Umsetzung, Forschung und Story-driven Learnings.',
        options: [
          { value: 'strategic', title: 'Strategische Modelle & Frameworks', description: 'Referenzmodelle, Roadmaps und Gestaltungsprinzipien.' },
          { value: 'operational', title: 'Operative Umsetzung & Tools', description: 'Playbooks, Checklisten und konkrete Instrumente.' },
          { value: 'researchDriven', title: 'Forschungs- & Datenorientiert', description: 'Studien, Metaanalysen, evidenzbasierte Empfehlungen.' },
          { value: 'caseStudy', title: 'Fallstudien & Erfahrungsberichte', description: 'Best Practices, Lessons Learned und narrative Einblicke.' }
        ]
      },
      {
        id: 'depth',
        title: 'Welche Tiefe erwartest du?',
        description: 'Von kompakt verdichteten Insights bis hin zu tiefgehenden Analysen.',
        options: [
          { value: 'concise', title: 'Kompakt & auf den Punkt', description: 'Verdichtete Quintessenzen, Executive Summaries, klare Handlungsimpulse.' },
          { value: 'structured', title: 'Strukturiert & praxisnah', description: 'Ausgewogene Balance aus Theorie, Beispielen und Umsetzung.' },
          { value: 'immersive', title: 'Tiefgreifend & analytisch', description: 'Dichte Argumentationen, umfangreiche Modelle, hohe Komplexit√§t.' }
        ]
      },
      {
        id: 'evidence',
        title: 'Wie m√∂chtest du √ºberzeugt werden?',
        description: 'Wir matchen auf deine bevorzugte Evidenzbasis.',
        options: [
          { value: 'data', title: 'Daten & Studien', description: 'Quantitative Analysen, Statistiken, harte Kennzahlen.' },
          { value: 'cases', title: 'Case Studies', description: 'Detaillierte Praxisbeispiele mit messbaren Ergebnissen.' },
          { value: 'frameworks', title: 'Frameworks & Modelle', description: 'Referenzarchitekturen, Reifegradmodelle, strukturierte Denkrahmen.' },
          { value: 'trends', title: 'Trends & Szenarien', description: 'Vorausschauende Analysen, Zukunftsbilder, foresight-getrieben.' }
        ]
      },
      {
        id: 'format',
        title: 'Welches Lernformat unterst√ºtzt dich am besten?',
        description: 'Von Handb√ºchern bis zu analytischen Erz√§hlungen ‚Äì wir passen den Stil an.',
        options: [
          { value: 'playbook', title: 'Playbook & Umsetzungsleitfaden', description: 'Schritt-f√ºr-Schritt, Templates, sofortige Anwendung.' },
          { value: 'handbook', title: 'Handbuch & Referenz', description: 'Umfassende Kompendien zum Nachschlagen und Vertiefen.' },
          { value: 'narrative', title: 'Narrative Analyse', description: 'Storytelling, Perspektivwechsel, reflektierende Essays.' },
          { value: 'academic', title: 'Akademisch & methodisch', description: 'Peer-Review-Niveau, Methodendiskussion, Theoriearbeit.' }
        ]
      },
      {
        id: 'length',
        title: 'Wie viel Zeit kannst du investieren?',
        description: 'Wir ber√ºcksichtigen Umfang, Dichte und Lesedauer.',
        options: [
          { value: 'short', title: 'Verdichtet', description: 'Bis 220 Seiten bzw. sehr konzentrierte Formate.' },
          { value: 'medium', title: 'Ausgewogen', description: '250‚Äì420 Seiten, solide Lesedauer mit Tiefgang.' },
          { value: 'long', title: 'Umfassend', description: '√úber 420 Seiten oder modulare Sammelb√§nde.' }
        ]
      }
    ];

    const bookDatabase = [
      {
        id: 'leading-change',
        title: 'Leading Change',
        author: 'John P. Kotter',
        type: 'fachliteratur',
        domain: ['management', 'people'],
        goal: ['transform', 'teach'],
        experience: ['entry', 'advanced'],
        approach: ['strategic', 'caseStudy'],
        depth: 'structured',
        evidence: ['frameworks', 'cases'],
        format: ['handbook', 'playbook'],
        length: 'medium',
        description: 'Kotter liefert einen pr√§zisen Fahrplan f√ºr erfolgreiche Ver√§nderungsprozesse ‚Äì von der Dringlichkeitsanalyse bis zur kulturellen Verankerung.',
        image: 'https://images.unsplash.com/photo-1485217988980-11786ced9454?auto=format&fit=crop&w=700&q=80'
      },
      {
        id: 'devops-handbook',
        title: 'The DevOps Handbook',
        author: 'Gene Kim u. a.',
        type: 'fachliteratur',
        domain: ['technology', 'management'],
        goal: ['optimize', 'transform'],
        experience: ['advanced'],
        approach: ['operational', 'strategic'],
        depth: 'immersive',
        evidence: ['cases', 'data'],
        format: ['playbook', 'handbook'],
        length: 'long',
        description: 'Ein tiefes Kompendium √ºber Continuous Delivery, Plattformteams und Metriken ‚Äì gespickt mit Erfahrungen f√ºhrender Tech-Unternehmen.',
        image: 'https://images.unsplash.com/photo-1517430816045-df4b7de11d1d?auto=format&fit=crop&w=700&q=80'
      },
      {
        id: 'ddia',
        title: 'Designing Data-Intensive Applications',
        author: 'Martin Kleppmann',
        type: 'fachliteratur',
        domain: ['technology', 'research'],
        goal: ['upskill', 'teach'],
        experience: ['expert'],
        approach: ['researchDriven', 'strategic'],
        depth: 'immersive',
        evidence: ['data', 'frameworks'],
        format: ['handbook', 'academic'],
        length: 'long',
        description: 'Kleppmann analysiert Architekturen verteilter Systeme, Datenmodelle und Skalierungsstrategien ‚Äì ein Standardwerk f√ºr technische Entscheider:innen.',
        image: 'https://images.unsplash.com/photo-1518770660439-4636190af475?auto=format&fit=crop&w=700&q=80'
      },
      {
        id: 'reinventing-organizations',
        title: 'Reinventing Organizations',
        author: 'Frederic Laloux',
        type: 'fachliteratur',
        domain: ['people', 'management'],
        goal: ['transform', 'teach'],
        experience: ['advanced'],
        approach: ['strategic', 'caseStudy'],
        depth: 'structured',
        evidence: ['cases', 'trends'],
        format: ['narrative', 'handbook'],
        length: 'medium',
        description: 'Eine umfassende Analyse selbstorganisierter Unternehmen mit praxisnahen Beispielen und konkreten Gestaltungsprinzipien.',
        image: 'https://images.unsplash.com/photo-1520607162513-77705c0f0d4a?auto=format&fit=crop&w=700&q=80'
      },
      {
        id: 'lean-analytics',
        title: 'Lean Analytics',
        author: 'Alistair Croll & Benjamin Yoskovitz',
        type: 'fachliteratur',
        domain: ['technology', 'research'],
        goal: ['optimize', 'upskill'],
        experience: ['advanced'],
        approach: ['operational', 'researchDriven'],
        depth: 'structured',
        evidence: ['data', 'cases'],
        format: ['playbook'],
        length: 'medium',
        description: 'Zeigt, wie datengetriebenes Arbeiten Produktentscheidungen verbessert ‚Äì mit konkreten KPI-Modellen f√ºr jede Wachstumsphase.',
        image: 'https://images.unsplash.com/photo-1498050108023-c5249f4df085?auto=format&fit=crop&w=700&q=80'
      },
      {
        id: 'digital-transformation-playbook',
        title: 'The Digital Transformation Playbook',
        author: 'David L. Rogers',
        type: 'fachliteratur',
        domain: ['management', 'technology'],
        goal: ['transform'],
        experience: ['entry', 'advanced'],
        approach: ['strategic'],
        depth: 'structured',
        evidence: ['frameworks', 'trends'],
        format: ['handbook', 'playbook'],
        length: 'medium',
        description: 'Rogers verbindet Gesch√§ftsmodellinnovation, Kundenzentrierung und Plattformlogiken zu einer klaren Transformationsagenda.',
        image: 'https://images.unsplash.com/photo-1553877522-43269d4ea984?auto=format&fit=crop&w=700&q=80'
      },
      {
        id: 'value-based-healthcare',
        title: 'Redefining Health Care',
        author: 'Michael E. Porter & Elizabeth Olmsted Teisberg',
        type: 'fachliteratur',
        domain: ['health', 'management'],
        goal: ['transform', 'optimize'],
        experience: ['expert'],
        approach: ['researchDriven', 'strategic'],
        depth: 'immersive',
        evidence: ['data', 'frameworks'],
        format: ['academic', 'handbook'],
        length: 'long',
        description: 'Ein Referenzwerk f√ºr Value-Based Healthcare mit pr√§zisen Kennzahlensystemen und praxisnahen Implementierungspfaden.',
        image: 'https://images.unsplash.com/photo-1587502536240-183035fb2d1d?auto=format&fit=crop&w=700&q=80'
      },
      {
        id: 'evidence-based-management',
        title: 'Hard Facts, Dangerous Half-Truths & Total Nonsense',
        author: 'Jeffrey Pfeffer & Robert I. Sutton',
        type: 'fachliteratur',
        domain: ['management', 'research'],
        goal: ['upskill', 'teach'],
        experience: ['entry', 'advanced'],
        approach: ['researchDriven'],
        depth: 'structured',
        evidence: ['data', 'frameworks'],
        format: ['narrative', 'academic'],
        length: 'medium',
        description: 'Zeigt, wie Managemententscheidungen konsequent auf Evidenz basieren ‚Äì mit klaren Kriterien zur Bewertung von Studien und Best Practices.',
        image: 'https://images.unsplash.com/photo-1450101499163-c8848c66ca85?auto=format&fit=crop&w=700&q=80'
      },
      {
        id: 'fearless-organization',
        title: 'The Fearless Organization',
        author: 'Amy C. Edmondson',
        type: 'fachliteratur',
        domain: ['people', 'management'],
        goal: ['transform', 'optimize'],
        experience: ['advanced'],
        approach: ['caseStudy', 'strategic'],
        depth: 'structured',
        evidence: ['cases', 'frameworks'],
        format: ['handbook', 'narrative'],
        length: 'medium',
        description: 'Edmondson erkl√§rt, wie psychologische Sicherheit Leistung und Innovation steigert ‚Äì mit diagnostischen Tools und Interventionsempfehlungen.',
        image: 'https://images.unsplash.com/photo-1521737604893-d14cc237f11d?auto=format&fit=crop&w=700&q=80'
      }
    ];

    const answers = {};
    let currentIndex = 0;

    const startBtn = document.getElementById('startQuiz');
    const questionCard = document.getElementById('questionCard');
    const resultCard = document.getElementById('resultCard');
    const optionGrid = document.getElementById('optionGrid');
    const stepLabel = document.getElementById('stepLabel');
    const progressBar = document.getElementById('progressBar');
    const questionTitle = document.getElementById('questionTitle');
    const questionDesc = document.getElementById('questionDesc');
    const nextBtn = document.getElementById('nextBtn');
    const backBtn = document.getElementById('backBtn');
    const restartBtn = document.getElementById('restartBtn');
    const resultImage = document.getElementById('resultImage');
    const resultTitle = document.getElementById('resultTitle');
    const resultMeta = document.getElementById('resultMeta');
    const resultDescription = document.getElementById('resultDescription');
    const resultHighlights = document.getElementById('resultHighlights');

    startBtn.addEventListener('click', () => {
      document.querySelector('.hero').scrollIntoView({ behavior: 'smooth', block: 'start' });
      startBtn.setAttribute('disabled', 'true');
      questionCard.hidden = false;
      renderQuestion();
    });

    nextBtn.addEventListener('click', () => {
      const currentQuestion = questions[currentIndex];
      if (!answers[currentQuestion.id]) {
        shakeCard(questionCard);
        return;
      }
      currentIndex += 1;
      if (currentIndex >= questions.length) {
        showResults();
      } else {
        renderQuestion();
      }
    });

    backBtn.addEventListener('click', () => {
      if (currentIndex === 0) return;
      currentIndex -= 1;
      renderQuestion();
    });

    restartBtn.addEventListener('click', resetQuiz);

    function renderQuestion() {
      const question = questions[currentIndex];
      questionTitle.textContent = question.title;
      questionDesc.textContent = question.description;
      stepLabel.textContent = `Frage ${currentIndex + 1} von ${questions.length}`;
      progressBar.style.width = `${((currentIndex) / questions.length) * 100}%`;

      optionGrid.innerHTML = '';
      question.options.forEach(option => {
        const button = document.createElement('button');
        button.type = 'button';
        button.className = 'option';
        if (answers[question.id] === option.value) {
          button.classList.add('selected');
        }
        button.innerHTML = `
          <span class="option-title">${option.title}</span>
          <span class="option-desc">${option.description}</span>
        `;
        button.addEventListener('click', () => {
          answers[question.id] = option.value;
          [...optionGrid.children].forEach(child => child.classList.remove('selected'));
          button.classList.add('selected');
          nextBtn.focus();
        });
        optionGrid.appendChild(button);
      });

      backBtn.hidden = currentIndex === 0;
      nextBtn.textContent = currentIndex === questions.length - 1 ? 'Ergebnis anzeigen' : 'Weiter';
    }

    function shakeCard(element) {
      element.animate([
        { transform: 'translateX(0)' },
        { transform: 'translateX(-8px)' },
        { transform: 'translateX(8px)' },
        { transform: 'translateX(-4px)' },
        { transform: 'translateX(0)' }
      ], {
        duration: 400,
        easing: 'ease-in-out'
      });
    }

    async function fetchBooksFromDatabase() {
      // simuliert eine asynchrone Datenbankabfrage
      return new Promise(resolve => {
        setTimeout(() => resolve(JSON.parse(JSON.stringify(bookDatabase))), 320);
      });
    }

    async function showResults() {
      progressBar.style.width = '100%';
      questionCard.hidden = true;
      resultCard.hidden = false;
      resultCard.classList.add('active');

      const entries = await fetchBooksFromDatabase();
      const match = rankEntries(entries, answers);
      presentResult(match);
    }

    function matchesPreference(entryValue, filterValue) {
      if (!entryValue || !filterValue) return false;
      if (Array.isArray(entryValue)) {
        return entryValue.includes(filterValue);
      }
      return entryValue === filterValue;
    }

    function rankEntries(entries, filters) {
      let best = null;
      let bestScore = -Infinity;

      entries.forEach(entry => {
        let score = 0;
        const highlights = [];

        if (matchesPreference(entry.domain, filters.domain)) {
          score += 2.6;
          highlights.push(`‚úîÔ∏è Fachfokus <strong>${domainLabel(filters.domain)}</strong> trifft dein Anliegen.`);
        }

        if (matchesPreference(entry.goal, filters.goal)) {
          score += 2.3;
          highlights.push(`‚úîÔ∏è Unterst√ºtzt dein Ziel <strong>${goalLabel(filters.goal)}</strong>.`);
        }

        if (matchesPreference(entry.experience, filters.experience)) {
          score += 1.9;
          highlights.push(`‚úîÔ∏è Anspruchsniveau: <strong>${experienceLabel(filters.experience)}</strong>.`);
          if (filters.experience === 'expert' && matchesPreference(entry.depth, 'immersive')) {
            score += 0.3;
          }
        }

        if (matchesPreference(entry.approach, filters.approach)) {
          score += 2.0;
          highlights.push(`‚úîÔ∏è Erkenntnisstil: <strong>${approachLabel(filters.approach)}</strong>.`);
        }

        if (matchesPreference(entry.depth, filters.depth)) {
          score += 1.6;
          highlights.push(`‚úîÔ∏è Tiefe entspricht <strong>${depthLabel(filters.depth)}</strong>.`);
        }

        if (matchesPreference(entry.evidence, filters.evidence)) {
          score += 1.5;
          highlights.push(`‚úîÔ∏è Belegt durch <strong>${evidenceLabel(filters.evidence)}</strong>.`);
        }

        if (matchesPreference(entry.format, filters.format)) {
          score += 1.2;
          highlights.push(`‚úîÔ∏è Lernformat <strong>${formatLabel(filters.format)}</strong> passt zu dir.`);
        }

        if (entry.length === filters.length) {
          score += 0.9;
          highlights.push(`‚úîÔ∏è Umfang liegt im Bereich <strong>${lengthLabel(filters.length)}</strong>.`);
        }

        if (entry.type === 'fachliteratur') {
          score += 0.4;
        }

        if (score > bestScore) {
          bestScore = score;
          best = { entry, highlights };
        }
      });

      return best;
    }

    function presentResult(result) {
      if (!result) return;
      const { entry, highlights } = result;

      resultImage.src = entry.image;
      resultTitle.textContent = `${entry.title}`;
      const primaryDomain = Array.isArray(entry.domain) ? entry.domain[0] : entry.domain;
      const domainText = primaryDomain ? domainLabel(primaryDomain) : 'Interdisziplin√§r';
      resultMeta.innerHTML = `von ${entry.author} ¬∑ Fachliteratur ¬∑ ${domainText}`;
      resultDescription.textContent = entry.description;
      resultHighlights.innerHTML = highlights.map(item => `<span>${item}</span>`).join('');
      restartBtn.focus();
    }

    function resetQuiz() {
      Object.keys(answers).forEach(key => delete answers[key]);
      currentIndex = 0;
      resultCard.hidden = true;
      resultCard.classList.remove('active');
      questionCard.hidden = false;
      progressBar.style.width = '0%';
      nextBtn.textContent = 'Weiter';
      renderQuestion();
    }

    function domainLabel(value) {
      return {
        management: 'Strategie & Leadership',
        technology: 'Technologie & IT-Architektur',
        people: 'People & Organisation',
        research: 'Wissenschaft & Analyse',
        health: 'Gesundheit & Pflegeinnovation'
      }[value] || value;
    }

    function goalLabel(value) {
      return {
        transform: 'Transformation vorantreiben',
        optimize: 'Prozesse verbessern',
        upskill: 'Fachwissen vertiefen',
        teach: 'Wissen weitergeben'
      }[value] || value;
    }

    function experienceLabel(value) {
      return {
        entry: 'Professioneller Einstieg',
        advanced: 'Fortgeschritten',
        expert: 'Executive / Expert Level'
      }[value] || value;
    }

    function approachLabel(value) {
      return {
        strategic: 'Strategische Modelle & Frameworks',
        operational: 'Operative Umsetzung & Tools',
        researchDriven: 'Forschungs- & Datenorientiert',
        caseStudy: 'Fallstudien & Erfahrungsberichte'
      }[value] || value;
    }

    function depthLabel(value) {
      return {
        concise: 'Kompakt & auf den Punkt',
        structured: 'Strukturiert & praxisnah',
        immersive: 'Tiefgreifend & analytisch'
      }[value] || value;
    }

    function evidenceLabel(value) {
      return {
        data: 'Daten & Studien',
        cases: 'Case Studies',
        frameworks: 'Frameworks & Modelle',
        trends: 'Trends & Szenarien'
      }[value] || value;
    }

    function formatLabel(value) {
      return {
        playbook: 'Playbook & Umsetzungsleitfaden',
        handbook: 'Handbuch & Referenz',
        narrative: 'Narrative Analyse',
        academic: 'Akademisch & methodisch'
      }[value] || value;
    }

    function lengthLabel(value) {
      return {
        short: 'verdichteter Lekt√ºre',
        medium: 'ausgewogenem Umfang',
        long: 'umfassender Vertiefung'
      }[value] || value;
    }
  </script>
</body>
</html>
